{% extends "base.html" %}

{% block title %}æ•°æ®å¯¼å‡º - ç®¡ç†åå°{% endblock %}

{% block content %}
<div class="container admin-dashboard">
    <div class="dashboard-header">
        <h2>æ•°æ®å¯¼å‡º</h2>
        <div class="header-actions">
            <a href="{{ url_for('admin_dashboard') }}" class="btn">è¿”å›ç®¡ç†åå°</a>
        </div>
    </div>

    <div class="export-section">
        <h3>å¯¼å‡ºé€‰é¡¹</h3>
        <p class="text-secondary">é€‰æ‹©å¯¼å‡ºæ ¼å¼ï¼Œå¯¼å‡ºçš„æ–‡ä»¶å°†ä¿å­˜åœ¨æœåŠ¡å™¨çš„ <code>exports/</code> ç›®å½•ä¸­ã€‚</p>

        <div class="export-options">
            <!-- Markdown Export -->
            <div class="export-option-card">
                <div class="export-icon">ğŸ“</div>
                <div class="export-info">
                    <h4>Markdown æ ¼å¼</h4>
                    <p>å°†æ¯ç¯‡æ–‡ç« å¯¼å‡ºä¸ºç‹¬ç«‹çš„ Markdown æ–‡ä»¶ï¼ŒåŒ…å«å®Œæ•´çš„å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€æ—¥æœŸã€åˆ†ç±»ã€æ ‡ç­¾ï¼‰</p>
                    <ul class="export-features">
                        <li>âœ“ ä¾¿äºç‰ˆæœ¬æ§åˆ¶</li>
                        <li>âœ“ æ”¯æŒé™æ€ç«™ç‚¹ç”Ÿæˆå™¨</li>
                        <li>âœ“ äººç±»å¯è¯»æ ¼å¼</li>
                        <li>âœ“ åŒ…å«å®Œæ•´æ–‡ç« å†…å®¹</li>
                    </ul>
                </div>
                <div class="export-action">
                    <a href="{{ url_for('export_markdown') }}" class="btn btn-primary" onclick="return confirm('ç¡®å®šè¦å¯¼å‡ºæ‰€æœ‰æ–‡ç« ä¸º Markdown æ ¼å¼å—ï¼Ÿ')">
                        å¯¼å‡º Markdown
                    </a>
                </div>
            </div>

            <!-- JSON Export -->
            <div class="export-option-card">
                <div class="export-icon">ğŸ“¦</div>
                <div class="export-info">
                    <h4>JSON æ ¼å¼</h4>
                    <p>å°†æ‰€æœ‰æ–‡ç« å¯¼å‡ºä¸ºä¸€ä¸ª JSON æ–‡ä»¶ï¼ŒåŒ…å«å®Œæ•´çš„æ•°æ®åº“ç»“æ„å’Œå†…å®¹</p>
                    <ul class="export-features">
                        <li>âœ“ å®Œæ•´çš„æ•°æ®å¤‡ä»½</li>
                        <li>âœ“ æ˜“äºç¨‹åºå¤„ç†</li>
                        <li>âœ“ æ”¯æŒæ•°æ®è¿ç§»</li>
                        <li>âœ“ åŒ…å«æ‰€æœ‰å…ƒæ•°æ®</li>
                    </ul>
                </div>
                <div class="export-action">
                    <a href="{{ url_for('export_json') }}" class="btn btn-primary" onclick="return confirm('ç¡®å®šè¦å¯¼å‡ºæ‰€æœ‰æ–‡ç« ä¸º JSON æ ¼å¼å—ï¼Ÿ')">
                        å¯¼å‡º JSON
                    </a>
                </div>
            </div>
        </div>

        <!-- Export Info -->
        <div class="export-info-box">
            <h4>ğŸ“Œ å¯¼å‡ºè¯´æ˜</h4>
            <ul>
                <li>å¯¼å‡ºçš„æ–‡ä»¶ä¿å­˜åœ¨æœåŠ¡å™¨ <code>exports/</code> ç›®å½•ä¸­</li>
                <li>æ¯æ¬¡å¯¼å‡ºéƒ½ä¼šåˆ›å»ºæ–°çš„æ–‡ä»¶ï¼Œä¸ä¼šè¦†ç›–ä¹‹å‰çš„å¯¼å‡º</li>
                <li>Markdown æ–‡ä»¶å‘½åæ ¼å¼ï¼š<code>ID_Title.md</code></li>
                <li>JSON æ–‡ä»¶åŒ…å«æ—¶é—´æˆ³ï¼š<code>blog_export_YYYYMMDD_HHMMSS.json</code></li>
                <li>è¯·å®šæœŸä¸‹è½½å¯¼å‡ºæ–‡ä»¶åˆ°æœ¬åœ°è¿›è¡Œå¤‡ä»½</li>
            </ul>
        </div>

        <!-- Manual Export Command -->
        <div class="export-info-box">
            <h4>ğŸ’» å‘½ä»¤è¡Œå¯¼å‡º</h4>
            <p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œç›´æ¥å¯¼å‡ºï¼š</p>
            <pre><code>cd /Users/gn/simple-blog
python3 backend/export.py</code></pre>
        </div>
    </div>
</div>

<style>
.export-section {
    max-width: 900px;
    margin: 0 auto;
}

.export-section h3 {
    margin-bottom: 1rem;
    color: var(--heading-color);
}

.text-secondary {
    color: var(--text-secondary);
    margin-bottom: 2rem;
}

.export-options {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.export-option-card {
    display: flex;
    gap: 1.5rem;
    padding: 2rem;
    border: 1px solid var(--border-color);
    border-radius: 12px;
    background-color: var(--bg-color);
    transition: all 0.3s ease;
}

.export-option-card:hover {
    border-color: var(--primary-color);
    box-shadow: 0 4px 12px rgba(26, 188, 156, 0.1);
    transform: translateY(-2px);
}

.export-icon {
    font-size: 3rem;
    flex-shrink: 0;
}

.export-info {
    flex: 1;
}

.export-info h4 {
    margin: 0 0 0.5rem 0;
    color: var(--heading-color);
}

.export-info p {
    color: var(--text-secondary);
    margin-bottom: 1rem;
}

.export-features {
    list-style: none;
    padding: 0;
    margin: 0;
}

.export-features li {
    color: var(--text-secondary);
    padding: 0.25rem 0;
    font-size: 0.9rem;
}

.export-action {
    display: flex;
    align-items: center;
    flex-shrink: 0;
}

.export-info-box {
    padding: 1.5rem;
    background-color: var(--code-bg);
    border-radius: 8px;
    margin-bottom: 1.5rem;
}

.export-info-box h4 {
    margin: 0 0 1rem 0;
    color: var(--heading-color);
}

.export-info-box ul {
    margin: 0;
    padding-left: 1.5rem;
}

.export-info-box li {
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
}

.export-info-box code {
    background-color: rgba(26, 188, 156, 0.1);
    color: var(--primary-color);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-family: var(--font-mono);
    font-size: 0.9em;
}

.export-info-box pre {
    background-color: var(--bg-color);
    padding: 1rem;
    border-radius: 6px;
    overflow-x: auto;
    margin: 1rem 0 0 0;
}

.export-info-box pre code {
    background-color: transparent;
    color: var(--text-color);
    padding: 0;
}

@media (max-width: 768px) {
    .export-option-card {
        flex-direction: column;
    }

    .export-action {
        width: 100%;
    }

    .export-action .btn {
        width: 100%;
        text-align: center;
    }
}
</style>
{% endblock %}
